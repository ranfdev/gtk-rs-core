<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="API documentation for the Rust `ConverterExtManual` trait in crate `gio`."><title>ConverterExtManual in gio::prelude - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceSerif4-Regular-46f98efaafac5295.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceSerif4-Bold-a2c9cd1067f8b328.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../static.files/rustdoc-cb6f1f67f1bcd037.css" id="mainThemeStyle"><meta name="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="gio" data-themes="" data-resource-suffix="" data-rustdoc-version="1.73.0-nightly (31395ec38 2023-07-24)" data-channel="nightly" data-search-js="search-6dfdfced5eff6596.js" data-settings-js="settings-de11bff964e9d4e5.js" data-settings-css="settings-8c76f75bfb6bd192.css" data-theme-light-css="light-6d2c9675f3d09c26.css" data-theme-dark-css="dark-45ceb8f2e522f4d1.css" data-theme-ayu-css="ayu-fd19013d6ce078bf.css" ><script src="../../static.files/storage-db41da1a38ea3cb8.js"></script><script defer src="sidebar-items.js"></script><script defer src="../../static.files/main-0795b7d26be81095.js"></script><noscript><link rel="stylesheet" media="(prefers-color-scheme:light)" href="../../static.files/light-6d2c9675f3d09c26.css"><link rel="stylesheet" media="(prefers-color-scheme:dark)" href="../../static.files/dark-45ceb8f2e522f4d1.css"><link rel="stylesheet" href="../../static.files/noscript-cffde32267a19fd6.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc trait"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]-->
<script type="text/javascript">
    document.addEventListener("DOMContentLoaded", checkDocsLatestStable);

    function checkDocsLatestStable() {
        function popup(msg, url) { return `
            <style scoped="scoped">
                .popup {
                    max-width: 16em;
                    background-color: #fff;
                    position: fixed;
                    z-index: 1;
                    margin-left: auto;
                    bottom: 1em;
                    right: 1em;
                    border-radius: 5px;
                    box-shadow: 1px 1px 4px #777;
                }

                .popup a.version {
                    color: #e57300;
                    padding: 0.6em 1em;
                    display: block;
                }
                .popup a.version:hover {
                    color: #b25900;
                }

                .popup a.close {
                    color: white;
                    background: grey;
                    border-radius: 99px;
                    display: inline-block;
                    width: 19px;
                    line-height: 19px;
                    font-weight: bold;
                    text-align: center;
                    margin: 0.6em;
                    float: right;
                }
                .popup a.close:hover {
                    background: black;
                }
            </style>
            <section class="popup" id="gir_docs_popup">
                <a class="close" href="#" onclick="document.getElementById('gir_docs_popup').remove(); return false">×</a>
                <a class="version" href="https://gtk-rs.org/gtk-rs-core/stable/latest/docs">
                    ⚠ ${msg}
                </a>
            </section>
        ` };

        if ("master" == "master") {
            document.body.insertAdjacentHTML(
                'beforeend',
                popup("This is the development version. Go to latest stable version.", "stable/latest")
            );
        } else {
            fetch('https://gtk-rs.org/gtk-rs-core/LATEST_RELEASE_BRANCH')
                .then(response => response.text())
                .then(latest_branch => {
                    if (latest_branch.trim() != "master") {
                        document.body.insertAdjacentHTML(
                            'beforeend',
                            popup("This version is outdated. Go to latest version.", "stable/latest")
                        );
                    }
                });
        }
    }
</script>


<nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="logo-container" href="../../gio/index.html"><img class="rust-logo" src="../../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2></h2></nav><nav class="sidebar"><a class="logo-container" href="../../gio/index.html"><img class="rust-logo" src="../../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2 class="location"><a href="#">ConverterExtManual</a></h2><div class="sidebar-elems"><section><h3><a href="#provided-methods">Provided Methods</a></h3><ul class="block"><li><a href="#method.convert">convert</a></li></ul><h3><a href="#implementors">Implementors</a></h3></section><h2><a href="index.html">In gio::prelude</a></h2></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../../static.files/wheel-7b819b6101059cd0.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Trait <a href="../index.html">gio</a>::<wbr><a href="index.html">prelude</a>::<wbr><a class="trait" href="#">ConverterExtManual</a><button id="copy-path" title="Copy item path to clipboard"><img src="../../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="src" href="../../src/gio/converter.rs.html#14-160">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><pre class="rust item-decl"><code>pub trait ConverterExtManual: Sealed + <a class="trait" href="../../glib/object/trait.IsA.html" title="trait glib::object::IsA">IsA</a>&lt;<a class="struct" href="../struct.Converter.html" title="struct gio::Converter">Converter</a>&gt; + 'static {
    // Provided method
    fn <a href="#method.convert" class="fn">convert</a>&lt;IN: <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.AsRef.html" title="trait core::convert::AsRef">AsRef</a>&lt;[<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u8.html">u8</a>]&gt;, OUT: <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.AsMut.html" title="trait core::convert::AsMut">AsMut</a>&lt;[<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u8.html">u8</a>]&gt;&gt;(
        &amp;self,
        inbuf: IN,
        outbuf: OUT,
        flags: <a class="struct" href="../struct.ConverterFlags.html" title="struct gio::ConverterFlags">ConverterFlags</a>
    ) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;(<a class="enum" href="../enum.ConverterResult.html" title="enum gio::ConverterResult">ConverterResult</a>, <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>, <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>), <a class="struct" href="../../glib/error/struct.Error.html" title="struct glib::error::Error">Error</a>&gt; { ... }
}</code></pre><h2 id="provided-methods" class="small-section-header">Provided Methods<a href="#provided-methods" class="anchor">§</a></h2><div class="methods"><details class="toggle method-toggle" open><summary><section id="method.convert" class="method"><a class="src rightside" href="../../src/gio/converter.rs.html#118-159">source</a><h4 class="code-header">fn <a href="#method.convert" class="fn">convert</a>&lt;IN: <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.AsRef.html" title="trait core::convert::AsRef">AsRef</a>&lt;[<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u8.html">u8</a>]&gt;, OUT: <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.AsMut.html" title="trait core::convert::AsMut">AsMut</a>&lt;[<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u8.html">u8</a>]&gt;&gt;(
    &amp;self,
    inbuf: IN,
    outbuf: OUT,
    flags: <a class="struct" href="../struct.ConverterFlags.html" title="struct gio::ConverterFlags">ConverterFlags</a>
) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;(<a class="enum" href="../enum.ConverterResult.html" title="enum gio::ConverterResult">ConverterResult</a>, <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>, <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>), <a class="struct" href="../../glib/error/struct.Error.html" title="struct glib::error::Error">Error</a>&gt;</h4></section></summary><div class="docblock"><p>This is the main operation used when converting data. It is to be called
multiple times in a loop, and each time it will do some work, i.e.
producing some output (in <code>outbuf</code>) or consuming some input (from <code>inbuf</code>) or
both. If its not possible to do any work an error is returned.</p>
<p>Note that a single call may not consume all input (or any input at all).
Also a call may produce output even if given no input, due to state stored
in the converter producing output.</p>
<p>If any data was either produced or consumed, and then an error happens, then
only the successful conversion is reported and the error is returned on the
next call.</p>
<p>A full conversion loop involves calling this method repeatedly, each time
giving it new input and space output space. When there is no more input
data after the data in <code>inbuf</code>, the flag <a href="../struct.ConverterFlags.html#associatedconstant.INPUT_AT_END" title="associated constant gio::ConverterFlags::INPUT_AT_END"><code>ConverterFlags::INPUT_AT_END</code></a> must be set.
The loop will be (unless some error happens) returning <a href="../enum.ConverterResult.html#variant.Converted" title="variant gio::ConverterResult::Converted"><code>ConverterResult::Converted</code></a>
each time until all data is consumed and all output is produced, then
<a href="../enum.ConverterResult.html#variant.Finished" title="variant gio::ConverterResult::Finished"><code>ConverterResult::Finished</code></a> is returned instead. Note, that <a href="../enum.ConverterResult.html#variant.Finished" title="variant gio::ConverterResult::Finished"><code>ConverterResult::Finished</code></a>
may be returned even if <a href="../struct.ConverterFlags.html#associatedconstant.INPUT_AT_END" title="associated constant gio::ConverterFlags::INPUT_AT_END"><code>ConverterFlags::INPUT_AT_END</code></a> is not set, for instance
in a decompression converter where the end of data is detectable from the
data (and there might even be other data after the end of the compressed data).</p>
<p>When some data has successfully been converted <code>bytes_read</code> and is set to
the number of bytes read from <code>inbuf</code>, and <code>bytes_written</code> is set to indicate
how many bytes was written to <code>outbuf</code>. If there are more data to output
or consume (i.e. unless the <a href="../struct.ConverterFlags.html#associatedconstant.INPUT_AT_END" title="associated constant gio::ConverterFlags::INPUT_AT_END"><code>ConverterFlags::INPUT_AT_END</code></a> is specified) then
<a href="../enum.ConverterResult.html#variant.Converted" title="variant gio::ConverterResult::Converted"><code>ConverterResult::Converted</code></a> is returned, and if no more data is to be output
then <a href="../enum.ConverterResult.html#variant.Finished" title="variant gio::ConverterResult::Finished"><code>ConverterResult::Finished</code></a> is returned.</p>
<p>On error <a href="../enum.ConverterResult.html#variant.Error" title="variant gio::ConverterResult::Error"><code>ConverterResult::Error</code></a> is returned and <code>error</code> is set accordingly.
Some errors need special handling:</p>
<p><a href="../enum.IOErrorEnum.html#variant.NoSpace" title="variant gio::IOErrorEnum::NoSpace"><code>IOErrorEnum::NoSpace</code></a> is returned if there is not enough space
to write the resulting converted data, the application should
call the function again with a larger <code>outbuf</code> to continue.</p>
<p><a href="../enum.IOErrorEnum.html#variant.PartialInput" title="variant gio::IOErrorEnum::PartialInput"><code>IOErrorEnum::PartialInput</code></a> is returned if there is not enough
input to fully determine what the conversion should produce,
and the <a href="../struct.ConverterFlags.html#associatedconstant.INPUT_AT_END" title="associated constant gio::ConverterFlags::INPUT_AT_END"><code>ConverterFlags::INPUT_AT_END</code></a> flag is not set. This happens for
example with an incomplete multibyte sequence when converting text,
or when a regexp matches up to the end of the input (and may match
further input). It may also happen when <code>inbuf_size</code> is zero and
there is no more data to produce.</p>
<p>When this happens the application should read more input and then
call the function again. If further input shows that there is no
more data call the function again with the same data but with
the <a href="../struct.ConverterFlags.html#associatedconstant.INPUT_AT_END" title="associated constant gio::ConverterFlags::INPUT_AT_END"><code>ConverterFlags::INPUT_AT_END</code></a> flag set. This may cause the conversion
to finish as e.g. in the regexp match case (or, to fail again with
<a href="../enum.IOErrorEnum.html#variant.PartialInput" title="variant gio::IOErrorEnum::PartialInput"><code>IOErrorEnum::PartialInput</code></a> in e.g. a charset conversion where the
input is actually partial).</p>
<p>After <a href="trait.ConverterExtManual.html#method.convert" title="method gio::prelude::ConverterExtManual::convert"><code>ConverterExtManual::convert()</code></a> has returned <a href="../enum.ConverterResult.html#variant.Finished" title="variant gio::ConverterResult::Finished"><code>ConverterResult::Finished</code></a> the
converter object is in an invalid state where its not allowed
to call <a href="trait.ConverterExtManual.html#method.convert" title="method gio::prelude::ConverterExtManual::convert"><code>ConverterExtManual::convert()</code></a> anymore. At this time you can only
free the object or call <a href="trait.ConverterExt.html#method.reset" title="method gio::prelude::ConverterExt::reset"><code>ConverterExt::reset()</code></a> to reset it to the
initial state.</p>
<p>If the flag <a href="../struct.ConverterFlags.html#associatedconstant.FLUSH" title="associated constant gio::ConverterFlags::FLUSH"><code>ConverterFlags::FLUSH</code></a> is set then conversion is modified
to try to write out all internal state to the output. The application
has to call the function multiple times with the flag set, and when
the available input has been consumed and all internal state has
been produced then <a href="../enum.ConverterResult.html#variant.Flushed" title="variant gio::ConverterResult::Flushed"><code>ConverterResult::Flushed</code></a> (or <a href="../enum.ConverterResult.html#variant.Finished" title="variant gio::ConverterResult::Finished"><code>ConverterResult::Finished</code></a> if
really at the end) is returned instead of <a href="../enum.ConverterResult.html#variant.Converted" title="variant gio::ConverterResult::Converted"><code>ConverterResult::Converted</code></a>.
This is somewhat similar to what happens at the end of the input stream,
but done in the middle of the data.</p>
<p>This has different meanings for different conversions. For instance
in a compression converter it would mean that we flush all the
compression state into output such that if you uncompress the
compressed data you get back all the input data. Doing this may
make the final file larger due to padding though. Another example
is a regexp conversion, where if you at the end of the flushed data
have a match, but there is also a potential longer match. In the
non-flushed case we would ask for more input, but when flushing we
treat this as the end of input and do the match.</p>
<p>Flushing is not always possible (like if a charset converter flushes
at a partial multibyte sequence). Converters are supposed to try
to produce as much output as possible and then return an error
(typically <a href="../enum.IOErrorEnum.html#variant.PartialInput" title="variant gio::IOErrorEnum::PartialInput"><code>IOErrorEnum::PartialInput</code></a>).</p>
<h6 id="inbuf"><a href="#inbuf"><code>inbuf</code></a></h6>
<p>the buffer
containing the data to convert.</p>
<h6 id="outbuf"><a href="#outbuf"><code>outbuf</code></a></h6>
<p>a
buffer to write converted data in.</p>
<h6 id="flags"><a href="#flags"><code>flags</code></a></h6>
<p>a <a href="../struct.ConverterFlags.html" title="struct gio::ConverterFlags"><code>ConverterFlags</code></a> controlling the conversion details</p>
<h5 id="returns"><a href="#returns">Returns</a></h5>
<p>a <a href="../enum.ConverterResult.html" title="enum gio::ConverterResult"><code>ConverterResult</code></a>, <a href="../enum.ConverterResult.html#variant.Error" title="variant gio::ConverterResult::Error"><code>ConverterResult::Error</code></a> on error.</p>
<h6 id="bytes_read"><a href="#bytes_read"><code>bytes_read</code></a></h6>
<p>will be set to the number of bytes read
from <code>inbuf</code> on success</p>
<h6 id="bytes_written"><a href="#bytes_written"><code>bytes_written</code></a></h6>
<p>will be set to the number of bytes
written to <code>outbuf</code> on success</p>
</div></details></div><h2 id="implementors" class="small-section-header">Implementors<a href="#implementors" class="anchor">§</a></h2><div id="implementors-list"><section id="impl-ConverterExtManual-for-O" class="impl"><a class="src rightside" href="../../src/gio/converter.rs.html#162">source</a><a href="#impl-ConverterExtManual-for-O" class="anchor">§</a><h3 class="code-header">impl&lt;O: <a class="trait" href="../../glib/object/trait.IsA.html" title="trait glib::object::IsA">IsA</a>&lt;<a class="struct" href="../struct.Converter.html" title="struct gio::Converter">Converter</a>&gt;&gt; <a class="trait" href="trait.ConverterExtManual.html" title="trait gio::prelude::ConverterExtManual">ConverterExtManual</a> for O</h3></section></div><script src="../../implementors/gio/converter/trait.ConverterExtManual.js" async></script></section></div></main></body></html>